# 操作系统
## Linux 伙伴算法与 slab 分配机制
- 伙伴算法：维护空闲页框链表，每次只能分配2的幂次页的空间，比如一次分配1页，2页，4页，8页
- slab 分配：为经常使用的小对象建立缓冲存储，小对象的申请和释放都通过 slab 分配器来管理，仅当缓冲存储不够时才想伙伴系统申请更多空间

## 孤儿进程 vs 僵尸进程
- 孤儿进程：在父进程执行完成或被终止后仍继续运行的一类进程。孤儿进程会被 init 进程(进程号为1)所收养，并由 init 进程对它们完成状态收集工作
- 僵尸进程：一个进程使用 fork 创建子进程，如果子进程退出，而父进程并没有调用 wait 或 waitpid 获取子进程的状态信息，那么子进程的进程描述符仍然保存在系统中

## fork() vs vfork()
### 相同点
 - 创建子进程，一次调用2次返回（父子进程各自执行的返回），父进程中返回子进程 pid，子进程中返回0

### 不同点
- fork()：子进程代码段、数据段、堆栈段的虚拟地址都指向父进程物理地址空间，并使用写时复制技术
- vfork()：子进程在调用 exec 或 exit 之前，在父进程空间执行，父进程挂起

## 进程间通信方式
- 管道（Pipe）及有名管道（Named Pipe）
 - 使用内核缓冲区，像操作文件一样读写
- 信号（Signal）：信号是比较复杂的通信方式，用于通知接受进程有某种事件发生
- 消息队列（Message）
- 共享内存（最快）：操作系统建立一块共享内存，并将其映射到每个进程的地址空间上，进程就可以直接对这块共享内存进行读写
 - mmap 内存共享映射：将文件映射到内存，在程序中直接使用内存地址对文件进行访问，可以实现父子进程的内存共享
 - XSI 共享内存：跟 mmap 在实现上并没有本质区别，通过全局 key 访问共享内存，实现非父子进程的内存共享
 - POSIX 共享内存：本质上就是 mmap 对文件的共享方式映射，只不过映射的是 tmpfs 文件系统上的文件
- 信号量（Semaphore）
- 套接口（Socket）